<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dong Dong Game</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="lobby-screen">
        <h2>Dong Dong Online</h2>
        <button id="show-tutorial-btn">How to Play</button>
        <div class="lobby-box">
            <h3>Create a New Game</h3>
            <p>Get a room code to share with your friends.</p>
            <label>Your Name: <input type="text" id="create-player-name" value="Player"></label>
            <button id="create-room-btn">Create Room</button>
        </div>
        <div class="lobby-box">
            <h3>Join an Existing Game</h3>
            <p>Enter a 4-digit room code from a friend.</p>
            <label>Your Name: <input type="text" id="join-player-name" value="Player"></label>
            <label>Room Code: <input type="text" id="room-code-input" maxlength="4" placeholder="1234"></label>
            <button id="join-room-btn">Join Room</button>
        </div>
    </div>

    <div id="game-container" style="display: none;">
        <header id="game-header">
            <h1 id="game-title">Dong Dong</h1>
            <div id="game-info">
                <p><strong>Round:</strong> <span id="round-number">--</span></p>
                <p><strong>Master Color:</strong> <span id="master-color">--</span></p>
            </div>
            <div id="controls">
                <button id="start-game-btn" style="display: none;">Start Game</button>
                <p>Room Code: <strong id="room-code-display"></strong></p>
            </div>
        </header>

        <main id="game-board">
            <div id="players-container">
                <!-- Player info will be dynamically inserted here -->
            </div>
            
            <div class="side-by-side-container">
                <div id="spectator-area">
                    <h4>Spectators</h4>
                    <ul id="spectator-list"></ul>
                </div>

                <div id="event-log-area">
                    <h4>Event Log</h4>
                    <ul id="event-log"></ul>
                </div>
            </div>

            <div id="trick-area">
                <h2>Current Trick</h2>
                <div id="current-trick-master-color-container">
                    Master Color: <span id="current-trick-master-color">--</span>
                </div>
                <div id="trick-tiles">
                    <!-- Played tiles will appear here -->
                </div>
            </div>
        </main>

        <footer id="game-footer">
            <p id="message-bar">Welcome to Dong Dong!</p>
            <div id="action-area" style="display: none;">
                <div id="bet-controls">
                    <input type="number" id="bet-input" min="0">
                    <button id="submit-bet-btn">Submit Bet</button>
                </div>
                 <!-- Player's hand will be injected here by JS -->
                <h3>Your Hand</h3>
                <div id="hand-area"></div>
            </div>
        </footer>
    </div>

    <div id="tutorial-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-btn" id="close-tutorial-btn">&times;</span>
            <h2>How to Play Dong Dong</h2>
            <h3>Objective</h3>
            <p>The goal is to accurately predict and bid on the number of "tricks" you will win in each round. Points are awarded for correct bids.</p>
            
            <h3>Rounds</h3>
            <p>The game consists of multiple rounds. In each round, players are dealt a number of cards equal to the round number.</p>
            
            <h3>Betting</h3>
            <p>At the start of each round, players place a bet on how many tricks they believe they will win. The total number of bets from all players cannot equal the round number.</p>
            
            <h3>Gameplay</h3>
            <ul>
                <li><strong>Master Color:</strong> A "Master Color" is chosen for each trick. This is the trump color.</li>
                <li><strong>Leading a Trick:</strong> The first player of a trick sets the "lead color".</li>
                <li><strong>Following Suit:</strong> Other players must play a card of the same color if they have one. If not, they can play any card.</li>
                <li><strong>Winning a Trick:</strong> The trick is won by the player who played the highest card of the Master Color. If no Master Color cards were played, the highest card of the lead color wins.</li>
            </ul>

            <h3>Scoring</h3>
            <p>If your bet matches the number of tricks you won, you get <strong>10 + (your bet)^2</strong> points.</p>
            <p>If your bet is incorrect, you lose <strong>(your bet - tricks won)^2</strong> points.</p>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>